<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>cardcanvas</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
        function create_card(item){
            if (item !== undefined) {
                $("#outercanvas").append(
                        "<div class='outercard'>" +
                        "<div class='innercard'>" +
                        "<div class='eventinfo' id='einfo'>" +
                        JSON.stringify(item) +
                        "</div>" +
                        "</div>" +
                        "</div>"
                )
            }
        }

        function create_cards(data){
            var data=JSON.parse(data);
            $("#outercanvas").empty();
            data.forEach(create_card);
        }

        function reset_cards(){
            $.get("/events", function (data) {
                      create_cards(data)
                  });
        }
    </script>
    <script>
      $(document).ready(function(){

          reset_cards();
          $("#frm").on('change', function(){
              var frmdat = $('input:checkbox:checked').map(function() {return this.value;}).get();
              console.log(frmdat);
              if (frmdat.length > 0) {
                  $.get("/events", {"a.activity_type": JSON.stringify(frmdat)}, function (data) {
                      create_cards(data)
                  });
              }
              else {
                  reset_cards()
              }
              }
          )
    });
    </script>
    <style>
        #outercanvas {
            height: 2000px;
            width: 100%;
            background-color: coral;
            padding-top: 10px;

        }

        .outercard {
            margin: auto;
            margin-bottom: 10px;
            height: 100px;
            width: 96%;
            border-radius: 10px;
            background-color: aquamarine;
            padding: 8px;
        }

        .innercard {
            height: 100px;
            width: 100%;
            border-radius: 5px;
            background-color: aliceblue;
        }

        .chkbx {
            display: inline-block;
        }

    </style>
</head>
<body>
<form id="frm">
    <input type="text" id="inpt">
    <br>
    Choose Activity Type:
    <form id="ActivityType">
        <div class="chkbx"><input type="checkbox" id="CardGame" value="Card Game">Card Game</div>
        <div class="chkbx"><input type="checkbox" id="RPG" value="Role-Play game">Role-Play game</div>
        <div class="chkbx"><input type="checkbox" id="RPG/CardGame" value="Role-Play game/Card game">Role-Play game/Card game</div>
    </form>
</form>
<div class="canvas" id="outercanvas">
</div>
</body>
</html>